# Make10 專案技術流程摘要

## 🎯 核心技術棧
- **電腦視覺**: OpenCV (霍夫直線、投影直方圖、模板匹配)
- **深度學習**: TensorFlow (數字識別)  
- **自動化**: PyInput + MSS (滑鼠控制 + 螢幕擷取)
- **圖像處理**: PIL + NumPy
- **數據管理**: Pandas

## 🔄 系統執行流程

### 1. 初始化階段
- 載入 AI 模型 (TensorFlow)
- 初始化電腦視覺組件 (OpenCV)
- 設定自動化控制器 (PyInput/MSS)
- 配置參數載入

### 2. 遊戲定位階段  
- **螢幕擷取**: MSS 全螢幕擷取
- **模板匹配**: OpenCV 找重置按鈕
- **座標校準**: 計算遊戲盤面位置
- **多螢幕支援**: 自動螢幕切換

### 3. 盤面檢測階段
- **霍夫直線檢測**: 自動偵測網格線
- **投影直方圖**: 驗證網格位置  
- **動態座標**: 取代固定位移
- **細胞提取**: 16個數字細胞圖像

### 4. AI 識別階段
- **圖像預處理**: 正規化、去雜訊
- **TensorFlow 推理**: 數字識別模型
- **置信度評估**: 預測準確性評分
- **投票機制**: 提升識別準確率

### 5. 求解演算法階段
- **基礎遞迴**: 深度優先搜尋
- **分支限界**: 優化搜尋空間
- **遺傳演算法**: 複雜情況處理
- **多解答生成**: 找出所有可能解

### 6. 自動化執行階段
- **路徑規劃**: 滑鼠移動路徑
- **拖拽操作**: PyInput 精確控制
- **時間控制**: 動作延遲管理
- **錯誤恢復**: 失敗重試機制

### 7. 狀態監控階段
- **遊戲狀態**: 成功/失敗檢測
- **效能監控**: 記憶體/CPU 使用
- **統計追蹤**: 成功率、執行時間
- **日誌記錄**: 完整操作記錄

## 🧠 關鍵演算法

### 霍夫直線檢測 (網格偵測)
```python
# Canny邊緣檢測 → 霍夫直線 → 網格線分類
edges = cv2.Canny(gray, 50, 150)
lines = cv2.HoughLinesP(edges, 1, np.pi/180, 100)
```

### 投影直方圖 (輔助驗證)
```python
# 水平/垂直投影累積
h_projection = np.sum(edges, axis=1)  
v_projection = np.sum(edges, axis=0)
```

### AI 預測管道
```python
# 預處理 → 模型推理 → 後處理
processed = preprocess(cell_image)
prediction = model.predict(processed)
result = postprocess(prediction)
```

## 📊 系統特色
- **動態適應**: 支援多解析度、視窗大小
- **高準確率**: AI識別準確率 85%+  
- **快速處理**: 完整流程 < 2秒
- **穩定可靠**: 連續執行 100+ 回合
- **模組化**: 清晰架構、易於維護

## 🔧 重建要點
1. **先建基礎**: 配置系統、目錄結構
2. **後加功能**: 電腦視覺 → AI → 自動化
3. **測試驅動**: 每階段驗證功能
4. **錯誤處理**: 完善異常處理機制
5. **效能優化**: 記憶體管理、速度優化
